### 短域服务设计
#### - 前提: 因为没有涉及到mysql,这里不考虑服务器重启,映射关系丢失的问题,也不考虑分布式服务器扩展的问题,仅考虑单台服务器的情况.
#### 设计思路
- 因为短域最长限制为8个字符,字符为英文大小写字母和数字组成,所以短域可能的字符组合最大数量为(62的8次方-1).设计一个AtmoticLong类型的计数器,每次生成短域时,计算器+1,然后将得到的数字判断有没有超过最大组合数量值,没有超过的话将数字转为base62的字符串,所得字符串即为所需要的短域字符串.
- 存储使用线程安全的hashMap存放映射关系,为了让同样的url得到的短链是一致的,所以建了一个长链映射短链的map.
## 流程图
-  长域名转短域名流程图
-  ![流程图1](C:\Users\86158\Desktop\流程图1.bmp)
-  短域名获取长域名流程图
![流程图2](C:\Users\86158\Desktop\流程图2.bmp)
## 压测方案
该服务共有两个接口,初定长域名转短域名的QPS为100,短域名转长域名的QPS为1500 ,每个接口的压测方案和结果请见doc目录下附件.