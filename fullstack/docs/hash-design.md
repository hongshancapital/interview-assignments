### 短链接哈希算法设计实现

1. **nanoid**

   [nanoid](https://github.com/ai/nanoid)是一个轻量级的字符串 ID 生成器，根据[官网](https://zelark.github.io/nano-id-cc/)计算,使用 8 位字符，1000 并发下，99 天会产出一次 hash 碰撞

2. **缓存**

   适当的使用缓存可以提升系统的吞吐量，在系统中，分别使用了一个读缓存和一个写缓存。

   请求获取短链接的接口，对于热点数据将大大提升性能，每次访问将更新缓存失效时间，防止缓存雪崩

   生成短链接的接口，短期内请求两条一样的链接地址时，通过缓存直接返回

3. **bloomfileter**

   创建短链接成功后，会将短链接的 key 放入布隆过滤器中，当查询无效的短链接时可以快速判断返回，防止缓存穿透

   同时可以利用该过滤器解决 hash 碰撞的问题，当生产 key 是检查是否在过滤器中存在，如果存在，则再次生成新的 key
