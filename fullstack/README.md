# TypeScript Fullstack Engineer Assignment

### Typescript 实现短域名服务（细节可以百度/谷歌）

撰写两个 API 接口

- 短域名存储接口：接受长域名信息，返回短域名信息
- 短域名读取接口：接受短域名信息，返回长域名信息。

限制

- 短域名长度最大为 8 个字符（不含域名）

递交作业内容

1. 源代码
2. 单元测试代码以及单元测试覆盖率
3. API 集成测试案例以及测试结果
4. 简单的框架设计图，以及所有做的假设
5. 涉及的 SQL 或者 NoSQL 的 Schema，注意标注出 Primary key 和 Index 如果有。

其他

- 我们期望不要过度设计，每一个依赖以及每一行代码都有足够充分的理由。

## 岗位职责

- 根据产品交互稿构建高质量企业级 Web 应用
- 技术栈：Express + React
- 在产品迭代中逐步积累技术框架与组件库
- 根据业务需求适时地重构
- 为 Pull Request 提供有效的代码审查建议
- 设计并撰写固实的单元测试与集成测试

## 要求

- 三年以上技术相关工作经验
- 能高效并高质量交付产品
- 对业务逻辑有较为深刻的理解
- 加分项

  - 持续更新的技术博客
  - 长期维护的开源项目
  - 流畅阅读英文技术文档
  - 对审美有一定追求
  - 能力突出者可适当放宽年限

  ## 作业提交信息

  ### 任务拆解分析

  - 考虑数据查询的持久化，即已生成的短链接在相当长时间内需要稳定可解析，考虑使用数据库而非内存中缓存；
  - 需要实现长短互转两个接口，因此数据库表[src/utils/schema.ts]中使用 2 个索引，不过如果考虑数据量不大的情况，长链接的索引可以去掉
  - 短链接最大 8 位，根据市面上的一些短链接服务的情况，这里假定固定返回 8 位短链接地址
  - 短链接的字符，选用 62 进制(0-9A-Za-z)，最大可表示 62^8 约 2 百万亿地址，在安全整数范围内
  - 短链接字符的生成，考虑到 hash 碰撞，并不根据长链接地址做转换；同时根据自增 id 的转进制也存在可被猜测的问题，因此使用随机数和时间戳的定长字段作为被转换的 id

  ### 附件文档内容

  - [docs/snapshot-coverage.png] 单元测试覆盖率
  - [docs/encode-result.png] 长地址转换为短链接的接口示例结果
  - [docs/decode-result.png] 短链接转换为长地址的接口示例结果
