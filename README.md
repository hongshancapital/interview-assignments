# 长短链映射

长短链之间的转换

## 发号器

每一个新增的长URL都需要一个唯一id来对应，这个唯一id选择雪花算法

## 短域名生成器

根据发号器生成的唯一id来实现转换生成短域名，对长域名转62进制生成短域名

## 存储

参考LRU的思路，数据结构用hash和双向链表来实现，hash实现O(1)快速访问域名，链表实现新旧数据排序，通过短域名生成器生成短域名，短域名作为key，id和长域名作为值，存储在hash中，同时封装为链表中的一个node，存储在链表中，对于新生成的node或者新访问的node，会移动到链表的末尾，在插入新的node时会判断JVM堆内存可用空间，如果超过85%，会删除头节点

# 设计图

![image-20220327232824939](D:\Program Files\Typora\images\README\image-20220327232824939.png)
