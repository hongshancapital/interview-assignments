# 短域名服务技术方案

## 设计思路

* 算法

长域名和短域名的映射，可以转换为长域名与唯一数值型id、该id与短域名的映射关系。我们可以选取[0-9A-Za-z]作为合法字符集，如果短域名长度均为8，理论上能够支持8的62次方种长域名，相信能够满足需求。

为了方便的进行域名与id的相互映射，我们可以利用进制转换，即为长域名生成唯一自增id，并将该id转换为62进制，62进制的每一位固定对应[0-9A-Za-z]的一个字符。

系统需要记录已建立的长域名与短域名映射关系、id与长域名的映射关系。


* 并发控制

使用ConcurrentHashMap等并发集合进行控制，并发请求第一次获取相同长域名对应的短域名时，只允许一个请求进行计算，其他请求睡眠1s，唤起时判断是否有映射关系，有则返回，没有作异常返回（也可以选取重试等其他方案，可以展开讨论）。

* 异常返回

通过返回null，表明发生了异常：如参数错误等


## 架构设计图

## 假设

## 系统性能测试方案以及测试结果
* 性能测试方案
并发递交请求

