##短域名设计文档

### 需求 
撰写两个 API 接口:
- 短域名存储接口：接受长域名信息，返回短域名信息
- 短域名读取接口：接受短域名信息，返回长域名信息。

限制：
- 短域名长度最大为 8 个字符
- 采用SpringBoot，集成Swagger API文档；
- JUnit编写单元测试, 使用Jacoco生成测试报告(测试报告提交截图)；
- 映射数据存储在JVM内存即可，防止内存溢出；

### 设计
1. 标准的三层结构设计；
2. 短域名采用8位长度的字母(区分大小写)和数字的组合，可根据不同长度的短域名扩展不同的生成实现类
3. 8位长度的字符串，将10进制自增id转换为62进制所得，生产量大时，可根据自增id进行分表存储
4. 缓存采用LinkedHashMap实现
    - 失效策略为：删除最久未被访问的短域名
    - 为防止内存溢出，限制缓存存放数据大小，可通过参数进行配置
    - 引用可重入读写锁，避免LinkedHashMap带来的线程安全问题
5. 服务层加上短链有效性的检测，防止无效数据访问缓存甚至穿透到DB
6. 日志中预留埋点信息，可根据短链的转换、获取信息进行统计

### 测试
Jacoco覆盖率
- 可运行mvn clean test,结束后访问target/site/jacoco/index.html查看
- 结果见jacoco_report.png